let mapa = [['*', "*", '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*'], //0
            ['*', '_', '_', '_', '_', 'D', '_', '_', '_', '@', '_', '_', '_', '_', '*'], //1
            ['*', '_', '_', '_', '_', '*', '_', '_', '_', '_', '_', '_', '_', '_', '*'], //2 
            ['*', '_', '_', '_', '_', '*', '*', '*', '*', '*', '*', '_', '_', '_', '*'], //3
            ['*', '*', '*', '*', '_', '*', '_', '_', '_', '_', '_', '_', '_', '_', '*'], //4
            ['*', '_', '_', '_', '_', '*', '_', '_', '_', '_', '*', '*', '*', '*', '*'], //5
            ['*', '_', '_', '_', '_', '*', '_', '_', '_', '_', '_', '_', '_', '_', '*'], //6
            ['*', '_', '_', '_', '_', '*', '*', '*', '*', '*', '*', '_', '_', '_', '*'], //7
            ['*', '_', '_', '_', '_', '*', '_', '_', '_', '_', '*', '_', '_', '_', '*'], //8
            ['*', '_', '_', '_', '_', '*', '_', '_', '_', '_', '_', '_', '_', '_', '*'], //9
            ['*', '_', '*', '*', '*', '*', '_', '_', '_', '_', '*', '*', '*', '*', '*'], //10
            ['*', '_', '_', '_', '_', '*', '_', '_', '_', '_', '*', '_', '_', '_', '*'], //11
            ['*', '_', '@', '_', '_', '*', '_', '_', '_', '_', '_', '_', '_', '_', '*'], //12
            ['*', '_', '_', '_', '_', '*', '_', '_', '_', '_', '*', '_', '_', '_', 'D'], //13
            ['*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*']]; //14
          //  0    1    2    3    4     5   6    7    8    9   10   11   12   13    15
 let x = 1;
 let y = 1;
mapa[y][x] = '&';
let chave1 = true;
let chave2 = true;
/*y = linha e x= coluna*/
/* primeira chave linha=12 coluna =2*/ 
/* segunda chave linha=1 coluna =9*/ 
/* primeria porta linha=7 coluna=6*/
/* segunda porta  linha=7 coluna=9*/
/* terceira porta  linha=13 coluna=14*/
function desenharMapa() {
let texto = "";
for (let y = 0; y < 15; y++) {
  for (let x = 0; x < 15; x++) {
    if (mapa[y][x] === '_') {
      texto += `<span style="color: transparent">_ </span>`;
    } else {
      texto += `${mapa[y][x]} `;
    }
  }
  texto += `<br>`;
}


document.body.innerHTML = texto;
}


desenharMapa();
document.addEventListener('keydown', (evento) => {
  
  console.log(y)
  console.log(x)

  mapa[y][x] = '_';
  if (y==12 && x==2) {
    if (chave1 == true) {
      mapa[12][2] = '@';
    }
  }
  if (y==1 && x==9 ) {
    if (chave2 == true) {
      mapa[1][9] = '@';
    }
  }if (y==1 && x== 5) {
    mapa[1][5] = '=';
  }
  if (y == 13 && x == 14) {
    mapa[13][14] = '=';
  }
switch (evento.key) {
  case 'w':
    if (y > 0 && mapa[y-1][x] !== '*' && mapa[y-1][x] !== 'D' ) y -= 1;
    break;
  case 's':
    if (y < 14 && mapa[y+1][x] !== '*' && mapa[y+1][x] !== 'D' ) y += 1;
    break;
  case 'a':
    if (x > 0 && mapa[y][x-1] !== '*' && mapa[y][x-1] !== 'D' ) x -= 1;
    break;
  case 'd':
    if (x < 14 && mapa[y][x+1] !== '*' && mapa[y][x+1] !== 'D' ) x += 1;
    break;
  case 'i': 
    if (y==12 && x==2) {
      mapa[y][x] = '&';
      chave1 = false
      for (let y = 0; y < 15; y++) {
        for (let x = 0; x < 15; x++) {
          if (mapa[1][5] === 'D') {
            mapa[1][5] = '=';
            
          }
        }
      }
      
    }else if (y==1 && x==9) {
      mapa[y][x] = '&';
      chave2 = false
      for (let y = 0; y < 15; y++) {
        for (let x = 0; x < 15; x++) {
          if (mapa[13][14] === 'D') {
            mapa[13][14] = '=';
          }
        }
      }
    }
    break;
}
mapa[y][x] = '&';
desenharMapa();
});





