let mapa = [
  ['*', "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*"],//0
  ['*', "_", "_", "_", "_", "D", "_", "#", "#", "#", "#", "#", "#", "_", "_", "#", "_", "_", "_", "*", "_", "_", "_", "_", "_", "#", "_", "_", "_", "*"],//1
  ['*', "_", "_", "_", "_", "*", "_", "#", "_", "_", "_", "_", "_", "_", "_", "#", "_", "_", "_", "*", "*", "_", "_", "_", "_", "#", "_", "_", "_", "*"],//2
  ['*', "_", "_", "_", "_", "*", "_", "#", "_", "#", "#", "#", "#", "_", "_", "#", "_", "_", "_", "_", "_", "_", "_", "_", "_", "#", "#", "#", "#", "*"],//3
  ['*', "_", "_", "_", "_", "*", "_", "#", "_", "#", "_", "_", "_", "_", "_", "#", "_", "_", "_", "*", "*", "_", "_", "_", "_", "_", "_", "_", "_", "D"],//4
  ['*', "_", "_", "_", "_", "*", "_", "#", "_", "#", "_", "_", "_", "_", "_", "#", "_", "_", "_", "*", "_", "_", "_", "_", "_", "#", "#", "#", "#", "*"],//5
  ['*', "_", "_", "_", "_", "*", "_", "#", "_", "#", "_", "_", "_", "_", "_", "#", "#", "_", "_", "*", "_", "_", "_", "_", "_", "#", "_", "_", "_", "*"],//6
  ['*', "_", "_", "_", "_", "*", "_", "_", "_", "#", "_", "_", "_", "_", "_", "_", "_", "_", "_", "*", "_", "_", "_", "_", "_", "#", "_", "_", "_", "*"],//7
  ['*', "_", "_", "_", "_", "*", "_", "#", "#", "#", "_", "_", "_", "_", "_", "_", "_", "_", "_", "*", "_", "_", "_", "_", "_", "#", "_", "_", "_", "*"],//8
  ['*', "_", "_", "_", "_", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*"],//9
  ['*', "#", "_", "_", "#", "*", "_", "_", "_", "*", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "*"],//10
  ['*', "#", "_", "_", "#", "*", "_", "X", "_", "*", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "X", "_", "_", "_", "_", "_", "_", "*"],//11
  ['*', "#", "_", "_", "#", "*", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "*"],//12
  ['*', "#", "_", "_", "#", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "_", "_", "_", "_", "_", "_", "_", "_", "_", "*"],//13
  ['*', "_", "_", "_", "_", "*", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "*", "*", "_", "*", "*"],//14
  ['*', "_", "_", "_", "_", "*", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "*", "_", "_", "_", "*"],//15
  ['*', "_", "_", "_", "_", "*", "*", "*", "*", "*", "*", "*", "*", "*", "_", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "_", "_", "_", "*"],//16
  ['*', "_", "_", "_", "_", "*", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "*", "_", "_", "_", "*"],//17
  ['*', "#", "#", "_", "#", "*", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "*", "_", "_", "_", "*"],//18
  ['*', "_", "_", "_", "_", "*", "*", "*", "*", "*", "*", "*", "*", "_", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "_", "_", "_", "*"],//19
  ['*', "_", "_", "_", "_", "*", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "*", "_", "_", "_", "*"],//20
  ['*', "#", "_", "#", "#", "*", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "*", "_", "_", "_", "*"],//21
  ['*', "_", "_", "_", "_", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "_", "*", "*", "*", "_", "_", "_", "*"],//22
  ['*', "_", "_", "_", "_", "*", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "*", "_", "_", "_", "*"],//23
  ['*', "#", "#", "_", "#", "*", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "*", "_", "_", "_", "*"],//24
  ['*', "_", "_", "_", "_", "*", "_", "_", "_", "_", "_", "_", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "_", "_", "_", "*"],//25
  ['*', "_", "_", "X", "_", "*", "*", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "*", "_", "_", "_", "*"],//26
  ['*', "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "X", "_", "*", "_", "_", "_", "*"],//27
  ['*', "_", "_", "_", "_", "*", "*", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "*", "_", "_", "_", "*"],//28
  ['*', "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*"]];//29
  //0    1    2    3    4    5    6    7    8    9    10   11   12   13   14  15   16   17   18   19   20   21   22   23    24   25   26   27   28   29   
     
    
    

 let x = 27;
 let y = 27;
 
/*y = linha e x= coluna*/
let chave1 = true;
let chave2 = true;
let mapaInicial = mapa
let vidas = 10
function desenharMapa() {
let texto = "";

mapa[y][x] = '&';
for (let i = 0; i < 30; i++) {
  for (let j = 0; j < 30; j++) {
    if (mapa[i][j] === '_') {
      texto += `<span style="color: transparent">_ </span>`;
    } else {
      texto += `${mapa[i][j]} `;
    }
  }
  texto += `\n`;
}
document.getElementById('mapa2').innerHTML = texto;
}

function vida(params) {
  
  if (vidas > 0 ) {
    alert('vocÃª perdeu uma vida')
        mapa = mapaInicial 
        x=1
        y=1
        vidas -=1
  }else {
    alert('game over')
  }
}
desenharMapa();
document.addEventListener('keydown', (evento) => {
  
  console.log(y)
  console.log(x)

  mapa[y][x] = '_';
  if (y==0 && x==0) {
    if (chave1 == true) {
      mapa[0][0] = '';
    }
  }
  if (y==0 && x==0 ) {
    if (chave2 == true) {
      mapa[0][0] = '';
    }
  }if (y==0 && x== 0) {
    mapa[0][0] = '=';
  }
  if (y == 0 && x == 0) {
    mapa[0][0] = '';
  }
switch (evento.key) {
  case 'w':
    if ( mapa[y-1][x] !== '*' && mapa[y-1][x] !== 'D' ) {
      if (mapa[y-1][x]==="#") {
         vida()
      }else {
         y -= 1;
      }
  }  
      break;
  case 's':
    if ( mapa[y+1][x] !== '*' && mapa[y+1][x] !== 'D' ) {
      if (mapa[y+1][x]==="#") {
         vida()
      }else {
         y += 1;
      }
  }  
    break;
  case 'a':
    if ( mapa[y][x-1] !== '*' && mapa[y][x-1] !== 'D' ) {
      if (mapa[y][x-1]==="#") {
         vida()
      }else {
         x-= 1;
      }
  }  
    break;
  case 'd':
    if ( mapa[y][x+1] !== '*' && mapa[y][x+1] !== 'D' ) {
      if (mapa[y][x+1]==="#") {
         vida()
      }else {
         x += 1;
      }
  }  
    break;
  case 'i': 
    if (y==12 && x==2) {
      chave1 = false
    }else if (y==1 && x==9) {
      chave2 = false
    }
    break;
}
desenharMapa();
});